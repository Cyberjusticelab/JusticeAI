<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Machine Learning (ML) Service - ProceZeus Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="../">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <noscript>
            <style type="text/css">
                .javascript-only {
                    display: none;
                }
            </style>
        </noscript>

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme;
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="README.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><a href="ARCHITECTURE.html"><strong aria-hidden="true">2.</strong> Application Archictecture</a></li><li><a href="web_client/README.html"><strong aria-hidden="true">3.</strong> Web Client</a></li><li><a href="backend_service/README.html"><strong aria-hidden="true">4.</strong> Backend Service</a></li><li><a href="nlp_service/README.html"><strong aria-hidden="true">5.</strong> Natural Language Processing (NLP) Service</a></li><li><a href="ml_service/README.html" class="active"><strong aria-hidden="true">6.</strong> Machine Learning (ML) Service</a></li><li><a href="postgresql_db/README.html"><strong aria-hidden="true">7.</strong> PostgreSQL Database</a></li><li><a href="task_service/README.html"><strong aria-hidden="true">8.</strong> Task Service</a></li><li><a href="beta_client/README.html"><strong aria-hidden="true">9.</strong> Beta Client</a></li><li><a href="beta_server/README.html"><strong aria-hidden="true">10.</strong> Beta Server</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons javascript-only">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">ProceZeus Documentation</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </div>
                <div id="searchresults-outer" class="searchresults-outer">
                    <div class="searchresults-header" id="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="ml_service/README.html#machine-learning-service" id="machine-learning-service"><h1>Machine Learning Service</h1></a>
<a class="header" href="ml_service/README.html#installation-instructions" id="installation-instructions"><h2>Installation Instructions</h2></a>
<ol>
<li>Add Cyberjustice Lab username as environment variables: <code>export CJL_USER={USERNAME}</code> either to your .bashrc or run it as a command</li>
<li>Add Cyberjustice Lab password as environment variables: <code>export CJL_PASS={PASSWORD}</code> either to your .bashrc or run it as a command</li>
<li>Run <code>pip install -r requirements.txt</code></li>
<li>Run <code>pip install -r requirements_test.txt</code></li>
</ol>
<a class="header" href="ml_service/README.html#file-structure" id="file-structure"><h3>File Structure:</h3></a>
<pre><code>
----| data &lt;all data input and output&gt;
--------| raw &lt;extract the raw data here&gt;
--------| binary &lt;all saved binarized model/data&gt;
--------| cache &lt;temp files&gt;
--------| cluster
------------| fact
------------| decision

----| feature_extraction &lt;all data manipulation before supervised training&gt;
--------| clustering
------------| dbscan
------------| hdbscan
------------| k_means
------------| optimization
------------| clustering.py &lt;driver for clustering&gt;
--------| pre_processing
------------| precedent_model
------------| regex_parse
------------| word_vector
------------| pre_processing.py &lt;driver for pre_processing&gt;
------------| pre_processor.py
--------| post_processing
------------| precedent_vector
------------| post_processing.py &lt;driver for post_processing&gt;
--------| feature_extraction.py &lt;driver for feature extraction (using 3 drivers above)&gt;

----| model_learning &lt;supervised training&gt;
------------| neural_net
------------| model_training.py &lt;driver for supervised training&gt;

----| util &lt;common tool&gt;
------------| log.py &lt;logging tool&gt;
------------| file.py &lt;file save and load&gt;
------------| constant.py &lt;global variables&gt;

init.py
main.py &lt;driver for the pipeline (feature extraction + model training&gt;

</code></pre>
<a class="header" href="ml_service/README.html#extracting-data" id="extracting-data"><h2>Extracting Data</h2></a>
<ul>
<li>For binarized data and model, place under <code>data/binary</code></li>
<li>For precedent raw data (*.txt), place under <code>data/raw</code></li>
<li>Run <code>python init</code> to download French word vector</li>
</ul>
<a class="header" href="ml_service/README.html#ml-api" id="ml-api"><h2>ML API</h2></a>
<a class="header" href="ml_service/README.html#predict-outcome" id="predict-outcome"><h3>Predict Outcome</h3></a>
<p>Predict the outcome based on given facts and demands. Returns an array of predicted outcomes as well as similar precedents. The precedents have distances assigned to them. The lower the distance, the more similar it is.</p>
<p><strong>URL</strong> : <code>/predict</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Data constraints</strong></p>
<p>Provide facts_vector and demands_vector, with key values for each fact/demand.</p>
<pre><code class="language-json">{
  &quot;facts&quot; : {
    &quot;absent&quot; : 1,
    &quot;apartment_impropre&quot; : 0,
    &quot;apartment_infestation&quot; : 1,
    &quot;asker_is_landlord&quot; : 1,
    &quot;asker_is_tenant&quot; : 1,
    &quot;bothers_others&quot; : 1,
    &quot;disrespect_previous_judgement&quot; : 1,
    &quot;incorrect_facts&quot; : 1,
    &quot;landlord_inspector_fees&quot; : 1,
    &quot;landlord_notifies_tenant_retake_apartment&quot; : 1,
    &quot;landlord_pays_indemnity&quot; : 1,
    &quot;landlord_prejudice_justified&quot; : 1,
    &quot;landlord_relocation_indemnity_fees&quot; : 1,
    &quot;landlord_rent_change&quot; : 1,
    &quot;landlord_rent_change_doc_renseignements&quot; : 1,
    &quot;landlord_rent_change_piece_justification&quot; : 1,
    &quot;landlord_rent_change_receipts&quot; : 0,
    &quot;landlord_retakes_apartment&quot; : 1,
    &quot;landlord_retakes_apartment_indemnity&quot; : 1,
    &quot;landlord_sends_demand_regie_logement&quot; : 0,
    &quot;landlord_serious_prejudice&quot; : 1,
    &quot;lease&quot; : 1,
    &quot;proof_of_late&quot; : 1,
    &quot;proof_of_revenu&quot; : 0,
    &quot;rent_increased&quot; : 1,
    &quot;tenant_bad_payment_habits&quot; : 1,
    &quot;tenant_continuous_late_payment&quot; : 1,
    &quot;tenant_damaged_rental&quot; : 1,
    &quot;tenant_dead&quot; : 1,
    &quot;tenant_declare_insalubre&quot; : 1,
    &quot;tenant_financial_problem&quot; : 0,
    &quot;tenant_group_responsability&quot; : 1,
    &quot;tenant_individual_responsability&quot; : 1,
    &quot;tenant_is_bothered&quot; : 1,
    &quot;lack_of_proof&quot; : 1,
    &quot;tenant_landlord_agreement&quot; : 0,
    &quot;tenant_lease_fixed&quot; : 1,
    &quot;tenant_lease_indeterminate&quot; : 1,
    &quot;tenant_left_without_paying&quot; : 0,
    &quot;tenant_monthly_payment&quot; : 1,
    &quot;tenant_negligence&quot; : 1,
    &quot;tenant_not_request_cancel_lease&quot; : 1,
    &quot;tenant_owes_rent&quot; : 1,
    &quot;tenant_refuses_retake_apartment&quot; : 1,
    &quot;tenant_rent_not_paid_less_3_weeks&quot; : 1,
    &quot;tenant_rent_not_paid_more_3_weeks&quot; : 0,
    &quot;tenant_rent_paid_before_hearing&quot; : 1,
    &quot;tenant_violence&quot; : 1,
    &quot;tenant_withold_rent_without_permission&quot; : 1,
    &quot;violent&quot; : 1
  }
}
</code></pre>
<a class="header" href="ml_service/README.html#success-response" id="success-response"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
  &quot;outcomes_vector&quot;: {
    &quot;additional_indemnity_money&quot;: &quot;221&quot;,
    &quot;authorize_landlord_retake_apartment&quot;: &quot;0&quot;,
    &quot;declares_housing_inhabitable&quot;: &quot;0&quot;,
    &quot;declares_resiliation_is_correct&quot;: &quot;0&quot;,
    &quot;landlord_prejudice_justified&quot;: &quot;1&quot;,
    &quot;landlord_retakes_apartment_indemnity&quot;: &quot;0&quot;,
    &quot;landlord_serious_prejudice&quot;: &quot;0&quot;,
    &quot;orders_expulsion&quot;: &quot;1&quot;,
    &quot;orders_immediate_execution&quot;: &quot;1&quot;,
    &quot;orders_landlord_notify_tenant_when_habitable&quot;: &quot;0&quot;,
    &quot;orders_resiliation&quot;: &quot;1&quot;,
    &quot;orders_tenant_pay_first_of_month&quot;: &quot;0&quot;,
    &quot;tenant_ordered_to_pay_landlord&quot;: &quot;643&quot;,
    &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;80&quot;
  },
  &quot;probabilities_vector&quot;: {
    &quot;additional_indemnity_money&quot;: &quot;0.93&quot;,
    &quot;authorize_landlord_retake_apartment&quot;: &quot;1.0&quot;,
    &quot;declares_housing_inhabitable&quot;: &quot;1.0&quot;,
    &quot;declares_resiliation_is_correct&quot;: &quot;0.94&quot;,
    &quot;landlord_prejudice_justified&quot;: &quot;0.74&quot;,
    &quot;landlord_retakes_apartment_indemnity&quot;: &quot;1.0&quot;,
    &quot;landlord_serious_prejudice&quot;: &quot;1.0&quot;,
    &quot;orders_expulsion&quot;: &quot;0.88&quot;,
    &quot;orders_immediate_execution&quot;: &quot;0.72&quot;,
    &quot;orders_landlord_notify_tenant_when_habitable&quot;: &quot;1.0&quot;,
    &quot;orders_resiliation&quot;: &quot;0.91&quot;,
    &quot;orders_tenant_pay_first_of_month&quot;: &quot;0.99&quot;,
    &quot;tenant_ordered_to_pay_landlord&quot;: &quot;0.99&quot;,
    &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;0.91&quot;
  },
  &quot;similar_precedents&quot;: [
    {
      &quot;distance&quot;: 0.3423500835013649,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;900.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;970.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;70.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;970.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;88.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51211608&quot;
    },
    {
      &quot;distance&quot;: 0.3429019324281239,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;735.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;873.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;0.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;873.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;80.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51176404&quot;
    },
    {
      &quot;distance&quot;: 0.49114649102172725,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;770.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1360.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;590.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;1360.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;81.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51212451&quot;
    },
    {
      &quot;distance&quot;: 0.49200755901067444,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;945.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1290.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;345.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;1290.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;72.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51201834&quot;
    },
    {
      &quot;distance&quot;: 0.4933548500076463,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;800.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1400.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;0.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;0.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;92.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51391660&quot;
    }
  ]
}
</code></pre>
<a class="header" href="ml_service/README.html#error-response" id="error-response"><h4>Error Response</h4></a>
<p><strong>Code</strong> : <code>400 Bad Request</code> - <em>Inputs not provided</em></p>
<p><strong>Code</strong> : <code>404 Not Found</code> - <em>Conversation doesn&quot;t exist</em></p>
<a class="header" href="ml_service/README.html#get-fact-weights" id="get-fact-weights"><h3>Get Fact Weights</h3></a>
<p>Get the weights of every outcome sorted by descending order of importance</p>
<p><strong>URL</strong>: <code>/weights</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-1" id="success-response-1"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;additional_indemnity_money&quot;: {
        &quot;important_facts&quot;: [
            &quot;asker_is_landlord&quot;,
            &quot;tenant_withold_rent_without_permission&quot;,
            &quot;tenant_refuses_retake_apartment&quot;,
            &quot;tenant_monthly_payment&quot;,
            &quot;tenant_not_paid_lease_timespan&quot;
        ],
        &quot;additional_facts&quot;: [
            &quot;tenant_financial_problem&quot;,
            &quot;tenant_owes_rent&quot;,
            &quot;asker_is_tenant&quot;,
            &quot;tenant_damaged_rental&quot;,
            &quot;tenant_individual_responsability&quot;,
            &quot;signed_proof_of_rent_debt&quot;,
            &quot;tenant_lease_indeterminate&quot;,
            &quot;tenant_dead&quot;,
            &quot;tenant_is_bothered&quot;,
            &quot;bothers_others&quot;
        ]
    }
}
</code></pre>
<a class="header" href="ml_service/README.html#get-anti-facts" id="get-anti-facts"><h3>Get Anti Facts</h3></a>
<p>Get the anti facts</p>
<p>Left hand side always initialized to 1 and right hand side to 0</p>
<p><strong>URL</strong>: <code>/antifacts</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-2" id="success-response-2"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;tenant_rent_not_paid_less_3_weeks&quot;: &quot;tenant_rent_not_paid_more_3_weeks&quot;,
    &quot;tenant_lease_fixed&quot;: &quot;tenant_lease_indeterminate&quot;,
    &quot;not_violent&quot;: &quot;violent&quot;,
    &quot;tenant_individual_responsability&quot;: &quot;tenant_group_responsability&quot;
}
</code></pre>
<a class="header" href="ml_service/README.html#get-machine-learning-statistics" id="get-machine-learning-statistics"><h3>Get Machine Learning Statistics</h3></a>
<p>Get the ml stats</p>
<p>Used to obtain:</p>
<ol>
<li>Size of data set</li>
<li>Variance of regression outcomes</li>
<li>Standard deviation of regression outcomes</li>
<li>Mean of regression outcomes</li>
<li>Prediction accuracy of each classifier</li>
</ol>
<p><strong>URL</strong>: <code>/statistics</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-3" id="success-response-3"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;classifier&quot;: {
        &quot;additional_indemnity_money&quot;: {
            &quot;prediction_accuracy&quot;: 79.8400199975003
        },
        &quot;authorize_landlord_retake_apartment&quot;: {
            &quot;prediction_accuracy&quot;: 99.48756405449319
        },
        &quot;declares_housing_inhabitable&quot;: {
            &quot;prediction_accuracy&quot;: 99.95000624921884
        },
        &quot;declares_resiliation_is_correct&quot;: {
            &quot;prediction_accuracy&quot;: 91.83852018497687
        },
        &quot;landlord_prejudice_justified&quot;: {
            &quot;prediction_accuracy&quot;: 81.07736532933383
        },
        &quot;landlord_retakes_apartment_indemnity&quot;: {
            &quot;prediction_accuracy&quot;: 99.72503437070367
        },
        &quot;landlord_serious_prejudice&quot;: {
            &quot;prediction_accuracy&quot;: 96.35045619297588
        },
        &quot;orders_expulsion&quot;: {
            &quot;prediction_accuracy&quot;: 91.55105611798525
        },
        &quot;orders_immediate_execution&quot;: {
            &quot;prediction_accuracy&quot;: 84.32695913010873
        },
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: {
            &quot;prediction_accuracy&quot;: 100
        },
        &quot;orders_resiliation&quot;: {
            &quot;prediction_accuracy&quot;: 93.48831396075491
        },
        &quot;orders_tenant_pay_first_of_month&quot;: {
            &quot;prediction_accuracy&quot;: 98.05024371953506
        },
        &quot;tenant_ordered_to_pay_landlord&quot;: {
            &quot;prediction_accuracy&quot;: 83.82702162229721
        },
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: {
            &quot;prediction_accuracy&quot;: 90.32620922384702
        }
    },
    &quot;data_set&quot;: {
        &quot;size&quot;: 40003
    },
    &quot;regressor&quot;: {
        &quot;additional_indemnity_money&quot;: {
            &quot;mean&quot;: 1477.7728467101024,
            &quot;std&quot;: 1927.8147997893939,
            &quot;variance&quot;: 3716469.9022870203
        },
        &quot;tenant_pays_landlord&quot;: {
            &quot;mean&quot;: 2148.867088064977,
            &quot;std&quot;: 2129.510243010276,
            &quot;variance&quot;: 4534813.8750856845
        }
    }
}
</code></pre>
<hr />
<a class="header" href="ml_service/README.html#run-tests-and-lints" id="run-tests-and-lints"><h2>Run Tests and Lints</h2></a>
<pre><code>export COMPOSE_FILE=ci
./cjl up -d &amp;&amp; ./cjl run ml_service
</code></pre>
<a class="header" href="ml_service/README.html#using-the-command-line" id="using-the-command-line"><h2>Using the Command Line</h2></a>
<ul>
<li>denotes optional arguments</li>
</ul>
<p>1-  Commands</p>
<pre><code>python main.py -train [data size | empty for all] --svm* --sf* --weights* --evaluate*
python main.py -pre [number of files | empty for all]
python main.py -post [number of files | empty for all]
</code></pre>
<p>2- all binary files saved to data/binary</p>
<p>3- all text files to data/cluster</p>
<p>4- all raw_data to data/raw</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="nlp_service/README.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="postgresql_db/README.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="nlp_service/README.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="postgresql_db/README.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if (getComputedStyle(document.querySelector(".fa")).fontFamily !== "FontAwesome") {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = '_FontAwesome/css/font-awesome.css';
                document.head.insertBefore(link, document.head.firstChild)
            }
        </script>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        

        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS script -->
        

    </body>
</html>
