<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Machine Learning (ML) Service - ProceZeus Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="../">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <noscript>
            <style type="text/css">
                .javascript-only {
                    display: none;
                }
            </style>
        </noscript>

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme;
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="README.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><a href="ARCHITECTURE.html"><strong aria-hidden="true">2.</strong> Archictecture &amp; Infrastructure</a></li><li><a href="web_client/README.html"><strong aria-hidden="true">3.</strong> Web Client</a></li><li><a href="backend_service/README.html"><strong aria-hidden="true">4.</strong> Backend Service</a></li><li><a href="nlp_service/README.html"><strong aria-hidden="true">5.</strong> Natural Language Processing (NLP) Service</a></li><li><a href="ml_service/README.html" class="active"><strong aria-hidden="true">6.</strong> Machine Learning (ML) Service</a></li><li><a href="postgresql_db/README.html"><strong aria-hidden="true">7.</strong> PostgreSQL Database</a></li><li><a href="task_service/README.html"><strong aria-hidden="true">8.</strong> Task Service</a></li><li><a href="beta_client/README.html"><strong aria-hidden="true">9.</strong> Beta Client</a></li><li><a href="beta_server/README.html"><strong aria-hidden="true">10.</strong> Beta Server</a></li><li><a href="TROUBLESHOOT.html"><strong aria-hidden="true">11.</strong> Troubleshooting</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons javascript-only">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">ProceZeus Documentation</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </div>
                <div id="searchresults-outer" class="searchresults-outer">
                    <div class="searchresults-header" id="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="ml_service/README.html#machine-learning-service" id="machine-learning-service"><h1>Machine Learning Service</h1></a>
<a class="header" href="ml_service/README.html#a0-table-of-contents" id="a0-table-of-contents"><h2>0. Table of Contents</h2></a>
<ol>
<li><a href="ml_service/README.html#overview">Overview</a></li>
<li><a href="ml_service/README.html#data">Data</a></li>
<li><a href="ml_service/README.html#installation">Installation Instruction</a></li>
<li><a href="ml_service/README.html#file-structure">File Structure</a></li>
<li><a href="ml_service/README.html#api">ML API</a></li>
<li><a href="ml_service/README.html#command-line">Command Line</a></li>
</ol>
<a class="header" href="ml_service/README.html#a1-overview-a-nameoverviewa" id="a1-overview-a-nameoverviewa"><h2>1. Overview <a name="overview"></a></h2></a>
<p>The machine learning service is responsible for predicting the outcomes of a user's case.</p>
<p>Outcomes can either be categorized as either being True/False or by a numerical value. Whether a given outcome is boolean or integer is evaluated by a human and then given to the system beforehand (See section 1.6). Therefore, this sub-system makes use of both classifiers and regressors to make predictions. The inputs for both the classifier the and regressor are the facts obtained by the user's inputs. An array of outcomes is then returned.</p>
<a class="header" href="ml_service/README.html#a11-data-representation" id="a11-data-representation"><h3>1.1 Data Representation</h3></a>
<p>The input and output data are all represented numerically despite having the potential to be boolean values. Below illustrates how values are treated:</p>
<p>0 --&gt; False / Null
1 --&gt; True
(n &gt; 1) --&gt; True AND Numerical</p>
<p>Numerical Values consist of:</p>
<ul>
<li>Dates / Time (in months)</li>
<li>Money (in $)</li>
</ul>
<a class="header" href="ml_service/README.html#a12-facts--input" id="a12-facts--input"><h3>1.2 Facts / Input</h3></a>
<p>The inputs are stored in a numpy array consisting of only integers with the possible values listed in section 1.1. Every index of the array represents a different fact/input data point which will be used by the machine learning. The indexes of the facts are determined once the precedents are tagged (they are subject to change orders upon re-tagging the data). An input array will look as such:</p>
<p>[fact_1, fact_2, ..., fact_n]</p>
<p>Here is an example to retrieve the labels for each column:</p>
<pre><code>from feature_extraction.post_processing.regex.regex_tagger import TagPrecedents

indexes = TagPrecedents().get_intent_index()

# print sample of the content
for i in index['outcomes_vector'][:3]:
    print(i)
</code></pre>
<ul>
<li>output:</li>
</ul>
<pre><code>(0, 'additional_indemnity_money', 'bool')
(1, 'declares_resiliation_is_correct', 'bool')
(2, 'landlord_serious_prejudice', 'bool')
</code></pre>
<ul>
<li>structure for 'indexes' variable:</li>
</ul>
<pre><code>{
    'outcomes_vector': [
        (array_index, column_label, column_type),
        (array_index, column_label, column_type)
    ],
    'facts_vector': [
        (array_index, column_label, column_type),
        (array_index, column_label, column_type)
    ]
}
</code></pre>
<a class="header" href="ml_service/README.html#a13-outcomes--output" id="a13-outcomes--output"><h3>1.3 outcomes / output</h3></a>
<p>Similarly to section 1.2, the output will be an array of integers of the size of all the number of outcomes supported by the system. Please refer to section 1.1 for other inquiries.</p>
<a class="header" href="ml_service/README.html#a14-classification" id="a14-classification"><h3>1.4 Classification</h3></a>
<p>A multiclassifier is used to predict all outcomes. In the background, SkLearn uses a different estimator per outcome in order to perform this task. When obtaining a prediction, <strong>ALL</strong> outcomes are either classified as True or False. Even the numerical outcomes are classified as such. If an outcome is expected to be a numerical value <strong>AND</strong> that outcome is True then the input is passed to the appropriate regressor in order to predict the outcome's integer value. If the previous condition isn't met then no further data manipulation is necessary for a given outcome and the classifier's prediction is simply returned for this column.</p>
<p><strong>Adding a new classifier</strong>
New classifiers will be automatically trained upon adding regexes. See section 1.6.</p>
<a class="header" href="ml_service/README.html#a15-regression" id="a15-regression"><h3>1.5 Regression</h3></a>
<p>The regressors are <strong>only</strong> used if the classifier predicted an outcome as True. The reason for this implementation is because the regressors are trained on bias data where we know the outcome was True. Therefore the input data must also be biased towards the same end goal.</p>
<p>During training, <strong>only for regression</strong>, the average values of every fact of the data set is obtained. The vector will look as such:</p>
<p>[average_column_1, average_column_2, ..., average_column_n]</p>
<p>This vector is kept in binary format and can be retrieved this way:</p>
<pre><code>from util.file import Load
mean_facts_vector = Load.load_binary('model_metrics.bin')['regressor'][&lt;name of the regressor&gt;]['mean_facts_vector']
</code></pre>
<p><strong>Regression fine tuning</strong>
When making a regressive prediction, the user's input is entered as an array of numerical values as in section 1.2.</p>
<ol>
<li>
<p>Wherever a 0 is encountered in the user's input, we replace it with the average value of it's column.The purpose of this strategy is to predict more accurate results when the regressor is used. When a prediction is performed with missing input we then replace that missing input with it's average value to get a better fit on the curve.</p>
</li>
<li>
<p>During training, outliers in the dataset are removed. Outliers are determined by:</p>
</li>
</ol>
<pre><code>abs(outcome - average_of_outcomes) &gt; (2 * std_of_outcomes)
</code></pre>
<p><strong>Adding a new regressor</strong>
The regressor's estimators are crafted manually as opposed to using the SkLearn's wrapper as in section 1.4. Because the regressors require much more discreet attention, this approach was necessary. A custom wrapper is instead written, and every new regressor can inherit the AbstractRegressor Class.</p>
<ol>
<li>Code new regressor (inherit abstract_regressor.py)</li>
<li>Update multi_output_regression.py to accomodate new class</li>
</ol>
<a class="header" href="ml_service/README.html#a16-adding-new-columns-inputoutput" id="a16-adding-new-columns-inputoutput"><h3>1.6 Adding new columns (input/output)</h3></a>
<p>Adding new columns is fairly simply. In the <em>feature_extraction/post_processing/regex/regex_lib.py</em> file simply append your regex to the <em>regex_facts</em> or <em>regex_outcomes</em> list. The syntax is the following:</p>
<pre><code>regex_facts = [
    (
        &lt;column_label&gt;, [
            re.compile(&lt;regex_1&gt;, re.IGNORECASE),
            re.compile(&lt;regex_2&gt;, re.IGNORECASE),
            re.compile(&lt;regex_n&gt;, re.IGNORECASE)
        ],
        &lt;data_type&gt;),
    ),
    (
        &lt;column_label&gt;, [
            re.compile(&lt;regex_1&gt;, re.IGNORECASE),
            re.compile(&lt;regex_2&gt;, re.IGNORECASE),
            re.compile(&lt;regex_n&gt;, re.IGNORECASE)
        ],
        &lt;data_type&gt;),
    ),
]
</code></pre>
<p>Type as many regular expressions as needed to cover all the dataset. Upon tagging the data a percentage of lines tagged will be displayed.</p>
<p><em>Note: &lt;data_type&gt; are the following strings:</em></p>
<ol>
<li>&quot;BOOLEAN&quot;</li>
<li>&quot;MONEY&quot;</li>
<li>&quot;DATE&quot;</li>
</ol>
<p>The newly added columns in the <em>regex_lib.py</em> file will then automatically be used the next time the machine learning performs its training <strong>on the condition that the data has be re-post-processed</strong>. Be sure to create a regressor if you want to predict &quot;DATE&quot; or &quot;MONEY&quot; though (See section 1.5).</p>
<a class="header" href="ml_service/README.html#a2-data-a-namedataa" id="a2-data-a-namedataa"><h2>2. DATA <a name="data"></a></h2></a>
<p>All persistent machine learning data are stored as binaries. In order to centralize this information it is advised to upload the models on a server. These models may then be fetched in the <em>init.py</em> script in the source directory (do not confuse with <em>__init__.py</em> script). Simply append your download link to the <strong>binary_urls</strong> list found in this file.</p>
<a class="header" href="ml_service/README.html#a21-accessing-binary-data" id="a21-accessing-binary-data"><h3>2.1 Accessing binary data</h3></a>
<p>To load any binary files, first make sure it is stored in the <em>binary/data/</em> folder. This should be performed automatically by the <em>init.py</em>. Then simply use the following:</p>
<pre><code>from util.file import Load

Load.load_binary(&lt;binary_file_name&gt;)

</code></pre>
<a class="header" href="ml_service/README.html#a22-saving-binary-data" id="a22-saving-binary-data"><h3>2.2 Saving binary data</h3></a>
<p>To save a binary file use the following:</p>
<pre><code>from util.file import Save

Save().save_binary(&lt;desired_binary_file_name&gt;, model)
</code></pre>
<p>The output directory will be <em>binary/data/</em> by default.</p>
<a class="header" href="ml_service/README.html#a23-global-variables" id="a23-global-variables"><h3>2.3 Global Variables</h3></a>
<p>Some global variables are listed in <em>util/constant.py</em></p>
<a class="header" href="ml_service/README.html#a24-binary-file-content" id="a24-binary-file-content"><h3>2.4 Binary file content</h3></a>
<p><strong>classifier_labels.bin</strong></p>
<pre><code>{
   outcome_index_0 &lt;int&gt;: (
       column_label &lt;str&gt;,
       column_type &lt;str&gt;
   ),
   outcome_index_n &lt;int&gt;: (
       column_label &lt;str&gt;,
       column_type &lt;str&gt;
   ),
}
</code></pre>
<p><strong>model_metrics.bin</strong></p>
<pre><code>{
    'data_set':{
        'size': &lt;int&gt;
    },
    'classifier':{
        classifier_name_0 &lt;str&gt;: {
            'prediction_accuracy': &lt;float&gt;
        },
        classifier_name_n &lt;str&gt;: {
            'prediction_accuracy': &lt;float&gt;
        }
    },
    'regressor':{
        regressor_name_0 &lt;str&gt; :{
            'std': &lt;float&gt;,
            'variance': &lt;float&gt;,
            'mean_facts_vector': &lt;numpy.array&gt;
        },
        regressor_name_n &lt;str&gt; :{
            'std': &lt;float&gt;,
            'variance': &lt;float&gt;,
            'mean_facts_vector': &lt;numpy.array&gt;
        }
    }
</code></pre>
<p><strong>multi_class_svm_model.bin</strong>
Used to predict classifier results</p>
<pre><code>from util.file import Load
from sklearn.preprocessing import binarize

model = Load.load_binary(&quot;multi_class_svm_model.bin&quot;)
classifier_labels = Load.load_binary('classifier_labels.bin')
input_vector = [fact_1, fact_2, fact_n, ...]
data = binarize([input_vector], threshold=0)
prediction = model.predict(data)
</code></pre>
<p><strong>precedent_vectors.bin</strong></p>
<pre><code>{
    &lt;precedent_id&gt; &lt;str&gt;:{
        'outcomes_vector': numpy.array,
        'facts_vector': numpy.array,
        'file_number': &lt;str&gt;,
        'name': AZ-********.txt &lt;str&gt;
    }
}
</code></pre>
<p><strong>similarity_case_numbers.bin</strong>
An array of all case numbers. This is used to map the indices (returned by the similarity model) to case numbers</p>
<pre><code>[
    'AZ-XXXXXX',
    'AZ-XXXXXX',
    'AZ-XXXXXX',
    'AZ-XXXXXX'
    ...
]

</code></pre>
<p><strong>similarity_model.bin</strong></p>
<p>Case similarity comparator. Uses NearestNeighbour algorithm. Set to return the 5 nearest neighbours.</p>
<p>Input: A vector, which is the concatenation of the vector containing facts and the vector containing outcomes
Output: The indices (which have a direct mapping to case numbers using similarity_case_numbers [see above]) of the 5 most similar cases</p>
<pre><code>from util.file import Load

model = Load.load_binary(&quot;similarity_model.bin&quot;)

facts_vector = [fact_1, fact_2, fact_n, ...]
outcomes_vector = [outcome_1, outcome_2, outcome_n, ...]
input_vector = facts_vector + outcomes_vector

model.kneighbors(input_vector)
</code></pre>
<p><strong>*_scaler.bin</strong>
Every machine learning model requires a scaler to transform the data into values which will exponentially increase training time.</p>
<p><strong>*_regressor.bin</strong>
Models used to predict regressive results</p>
<pre><code>from util.file import Load
from keras.models import load_model
import os

file_path = os.path.join(Path.binary_directory, '&lt;regressor_name&gt;')
regressor = load_model(file_path)
scaler = Load.load_binary('&lt;your_scaler&gt;')
model = AbstractRegressor._create_pipeline(scaler, regressor)
input_data = [fact_1, fact_2, ..., fact_n]
prediction = model.predict([input_data])
</code></pre>
<a class="header" href="ml_service/README.html#a3-installation-instructions-a-nameinstallationa" id="a3-installation-instructions-a-nameinstallationa"><h2>3. Installation Instructions <a name="installation"></a></h2></a>
<ol>
<li>Add Cyberjustice Lab username as environment variables: <code>export CJL_USER={USERNAME}</code> either to your .bashrc or run it as a command</li>
<li>Add Cyberjustice Lab password as environment variables: <code>export CJL_PASS={PASSWORD}</code> either to your .bashrc or run it as a command</li>
<li>Run <code>pip3 install -r requirements.txt</code></li>
<li>Run <code>pip3 install -r requirements_test.txt</code></li>
</ol>
<a class="header" href="ml_service/README.html#a4-file-structure-a-namefile-structurea" id="a4-file-structure-a-namefile-structurea"><h3>4. File Structure <a name="file-structure"></a></h3></a>
<pre><code>
----| data &lt;all data input and output&gt;
--------| raw
------------| text_bk &lt;extract precedents here&gt;

--------| binary &lt;all saved binarized model/data&gt;
--------| cache &lt;temp files&gt;
--------| test &lt;used for unit testing&gt;

----| feature_extraction &lt;all data manipulation before supervised training&gt;
--------| feature_extraction.py &lt;driver for feature extraction (using 3 drivers above)&gt;
--------| pre_processing
------------| pre_processing_driver
----------------| filter_precedent
--------------------| precedent_directory_cleaner.py
--------| post_processing
------------| post_processing_driver.py &lt;driver for post_processing&gt;
----------------| regex
--------------------| regex_entity_extraction.py
--------------------| regex_lib.py
--------------------| regex_tagger.py

----| model_learning &lt;supervised training&gt;
------------| classifier
----------------| classifier_dirver.py
----------------| multi_output
--------------------| multi_class_svm.py
------------| regression
----------------| regression_driver.py
----------------| single_output_regression
--------------------| abtract_regressor.py
--------------------| tenant_pays_landlord.py
--------------------| additional_indemnity.py
----------------| multi_output
--------------------| multi_output_regression.py
------------| similar_finder
----------------| similar_finder.py

----| util &lt;common tool&gt;
------------| log.py &lt;logging tool&gt;
------------| file.py &lt;file save and load&gt;
------------| constant.py &lt;global variables&gt;

----| web
--------| ml_controller.py

init.py
main.py &lt;driver for the pipeline (feature extraction + model training&gt;

</code></pre>
<a class="header" href="ml_service/README.html#a5-ml-api-a-nameapia" id="a5-ml-api-a-nameapia"><h2>5. ML API <a name="api"></a></h2></a>
<a class="header" href="ml_service/README.html#a51-predict-outcome" id="a51-predict-outcome"><h3>5.1 Predict Outcome</h3></a>
<p>Predict the outcome based on given facts and demands. Returns an array of predicted outcomes as well as similar precedents. The precedents have distances assigned to them. The lower the distance, the more similar it is.</p>
<p><strong>URL</strong> : <code>/predict</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Data constraints</strong></p>
<p>Provide facts_vector and demands_vector, with key values for each fact/demand.</p>
<pre><code class="language-json">{
  &quot;facts&quot; : {
    &quot;absent&quot; : 1,
    &quot;apartment_impropre&quot; : 0,
    &quot;apartment_infestation&quot; : 1,
    &quot;asker_is_landlord&quot; : 1,
    &quot;asker_is_tenant&quot; : 1,
    &quot;bothers_others&quot; : 1,
    &quot;disrespect_previous_judgement&quot; : 1,
    &quot;incorrect_facts&quot; : 1,
    &quot;landlord_inspector_fees&quot; : 1,
    &quot;landlord_notifies_tenant_retake_apartment&quot; : 1,
    &quot;landlord_pays_indemnity&quot; : 1,
    &quot;landlord_prejudice_justified&quot; : 1,
    &quot;landlord_relocation_indemnity_fees&quot; : 1,
    &quot;landlord_rent_change&quot; : 1,
    &quot;landlord_rent_change_doc_renseignements&quot; : 1,
    &quot;landlord_rent_change_piece_justification&quot; : 1,
    &quot;landlord_rent_change_receipts&quot; : 0,
    &quot;landlord_retakes_apartment&quot; : 1,
    &quot;landlord_retakes_apartment_indemnity&quot; : 1,
    &quot;landlord_sends_demand_regie_logement&quot; : 0,
    &quot;landlord_serious_prejudice&quot; : 1,
    &quot;lease&quot; : 1,
    &quot;proof_of_late&quot; : 1,
    &quot;proof_of_revenu&quot; : 0,
    &quot;rent_increased&quot; : 1,
    &quot;tenant_bad_payment_habits&quot; : 1,
    &quot;tenant_continuous_late_payment&quot; : 1,
    &quot;tenant_damaged_rental&quot; : 1,
    &quot;tenant_dead&quot; : 1,
    &quot;tenant_declare_insalubre&quot; : 1,
    &quot;tenant_financial_problem&quot; : 0,
    &quot;tenant_group_responsability&quot; : 1,
    &quot;tenant_individual_responsability&quot; : 1,
    &quot;tenant_is_bothered&quot; : 1,
    &quot;lack_of_proof&quot; : 1,
    &quot;tenant_landlord_agreement&quot; : 0,
    &quot;tenant_lease_fixed&quot; : 1,
    &quot;tenant_lease_indeterminate&quot; : 1,
    &quot;tenant_left_without_paying&quot; : 0,
    &quot;tenant_monthly_payment&quot; : 1,
    &quot;tenant_negligence&quot; : 1,
    &quot;tenant_not_request_cancel_lease&quot; : 1,
    &quot;tenant_owes_rent&quot; : 1,
    &quot;tenant_refuses_retake_apartment&quot; : 1,
    &quot;tenant_rent_not_paid_less_3_weeks&quot; : 1,
    &quot;tenant_rent_not_paid_more_3_weeks&quot; : 0,
    &quot;tenant_rent_paid_before_hearing&quot; : 1,
    &quot;tenant_violence&quot; : 1,
    &quot;tenant_withold_rent_without_permission&quot; : 1,
    &quot;violent&quot; : 1
  }
}
</code></pre>
<a class="header" href="ml_service/README.html#success-response" id="success-response"><h5>Success Response</h5></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
  &quot;outcomes_vector&quot;: {
    &quot;additional_indemnity_money&quot;: &quot;221&quot;,
    &quot;authorize_landlord_retake_apartment&quot;: &quot;0&quot;,
    &quot;declares_housing_inhabitable&quot;: &quot;0&quot;,
    &quot;declares_resiliation_is_correct&quot;: &quot;0&quot;,
    &quot;landlord_prejudice_justified&quot;: &quot;1&quot;,
    &quot;landlord_retakes_apartment_indemnity&quot;: &quot;0&quot;,
    &quot;landlord_serious_prejudice&quot;: &quot;0&quot;,
    &quot;orders_expulsion&quot;: &quot;1&quot;,
    &quot;orders_immediate_execution&quot;: &quot;1&quot;,
    &quot;orders_landlord_notify_tenant_when_habitable&quot;: &quot;0&quot;,
    &quot;orders_resiliation&quot;: &quot;1&quot;,
    &quot;orders_tenant_pay_first_of_month&quot;: &quot;0&quot;,
    &quot;tenant_ordered_to_pay_landlord&quot;: &quot;643&quot;,
    &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;80&quot;
  },
  &quot;probabilities_vector&quot;: {
    &quot;additional_indemnity_money&quot;: &quot;0.93&quot;,
    &quot;authorize_landlord_retake_apartment&quot;: &quot;1.0&quot;,
    &quot;declares_housing_inhabitable&quot;: &quot;1.0&quot;,
    &quot;declares_resiliation_is_correct&quot;: &quot;0.94&quot;,
    &quot;landlord_prejudice_justified&quot;: &quot;0.74&quot;,
    &quot;landlord_retakes_apartment_indemnity&quot;: &quot;1.0&quot;,
    &quot;landlord_serious_prejudice&quot;: &quot;1.0&quot;,
    &quot;orders_expulsion&quot;: &quot;0.88&quot;,
    &quot;orders_immediate_execution&quot;: &quot;0.72&quot;,
    &quot;orders_landlord_notify_tenant_when_habitable&quot;: &quot;1.0&quot;,
    &quot;orders_resiliation&quot;: &quot;0.91&quot;,
    &quot;orders_tenant_pay_first_of_month&quot;: &quot;0.99&quot;,
    &quot;tenant_ordered_to_pay_landlord&quot;: &quot;0.99&quot;,
    &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;0.91&quot;
  },
  &quot;similar_precedents&quot;: [
    {
      &quot;distance&quot;: 0.3423500835013649,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;900.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;970.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;70.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;970.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;88.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51211608&quot;
    },
    {
      &quot;distance&quot;: 0.3429019324281239,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;735.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;873.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;0.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;873.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;80.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51176404&quot;
    },
    {
      &quot;distance&quot;: 0.49114649102172725,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;770.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1360.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;590.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;1360.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;81.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51212451&quot;
    },
    {
      &quot;distance&quot;: 0.49200755901067444,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;945.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1290.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;345.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;1290.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;72.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51201834&quot;
    },
    {
      &quot;distance&quot;: 0.4933548500076463,
      &quot;facts&quot;: {
        &quot;apartment_dirty&quot;: false,
        &quot;asker_is_landlord&quot;: true,
        &quot;asker_is_tenant&quot;: false,
        &quot;bothers_others&quot;: false,
        &quot;disrespect_previous_judgement&quot;: false,
        &quot;landlord_inspector_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_notifies_tenant_retake_apartment&quot;: false,
        &quot;landlord_pays_indemnity&quot;: false,
        &quot;landlord_relocation_indemnity_fees&quot;: &quot;0.0&quot;,
        &quot;landlord_rent_change&quot;: false,
        &quot;landlord_rent_change_doc_renseignements&quot;: false,
        &quot;landlord_retakes_apartment&quot;: false,
        &quot;landlord_sends_demand_regie_logement&quot;: false,
        &quot;rent_increased&quot;: false,
        &quot;signed_proof_of_rent_debt&quot;: false,
        &quot;tenant_continuous_late_payment&quot;: false,
        &quot;tenant_damaged_rental&quot;: false,
        &quot;tenant_dead&quot;: false,
        &quot;tenant_financial_problem&quot;: false,
        &quot;tenant_group_responsability&quot;: false,
        &quot;tenant_individual_responsability&quot;: true,
        &quot;tenant_is_bothered&quot;: false,
        &quot;tenant_lease_indeterminate&quot;: false,
        &quot;tenant_left_without_paying&quot;: false,
        &quot;tenant_monthly_payment&quot;: &quot;800.0&quot;,
        &quot;tenant_not_paid_lease_timespan&quot;: &quot;0.0&quot;,
        &quot;tenant_owes_rent&quot;: &quot;1400.0&quot;,
        &quot;tenant_refuses_retake_apartment&quot;: false,
        &quot;tenant_rent_not_paid_more_3_weeks&quot;: true,
        &quot;tenant_sends_demand_regie_logement&quot;: false,
        &quot;tenant_withold_rent_without_permission&quot;: false,
        &quot;violent&quot;: false
      },
      &quot;outcomes&quot;: {
        &quot;additional_indemnity_money&quot;: &quot;0.0&quot;,
        &quot;authorize_landlord_retake_apartment&quot;: false,
        &quot;declares_housing_inhabitable&quot;: false,
        &quot;declares_resiliation_is_correct&quot;: false,
        &quot;landlord_prejudice_justified&quot;: true,
        &quot;landlord_retakes_apartment_indemnity&quot;: false,
        &quot;landlord_serious_prejudice&quot;: false,
        &quot;orders_expulsion&quot;: true,
        &quot;orders_immediate_execution&quot;: true,
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: false,
        &quot;orders_resiliation&quot;: true,
        &quot;orders_tenant_pay_first_of_month&quot;: false,
        &quot;tenant_ordered_to_pay_landlord&quot;: &quot;0.0&quot;,
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: &quot;92.0&quot;
      },
      &quot;precedent&quot;: &quot;AZ-51391660&quot;
    }
  ]
}
</code></pre>
<a class="header" href="ml_service/README.html#error-response" id="error-response"><h5>Error Response</h5></a>
<p><strong>Code</strong> : <code>400 Bad Request</code> - <em>Inputs not provided</em></p>
<p><strong>Code</strong> : <code>404 Not Found</code> - <em>Conversation doesn&quot;t exist</em></p>
<a class="header" href="ml_service/README.html#a52-get-fact-weights" id="a52-get-fact-weights"><h3>5.2 Get Fact Weights</h3></a>
<p>Get the weights of every outcome sorted by descending order of importance</p>
<p><strong>URL</strong>: <code>/weights</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-1" id="success-response-1"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;additional_indemnity_money&quot;: {
        &quot;important_facts&quot;: [
            &quot;asker_is_landlord&quot;,
            &quot;tenant_withold_rent_without_permission&quot;,
            &quot;tenant_refuses_retake_apartment&quot;,
            &quot;tenant_monthly_payment&quot;,
            &quot;tenant_not_paid_lease_timespan&quot;
        ],
        &quot;additional_facts&quot;: [
            &quot;tenant_financial_problem&quot;,
            &quot;tenant_owes_rent&quot;,
            &quot;asker_is_tenant&quot;,
            &quot;tenant_damaged_rental&quot;,
            &quot;tenant_individual_responsability&quot;,
            &quot;signed_proof_of_rent_debt&quot;,
            &quot;tenant_lease_indeterminate&quot;,
            &quot;tenant_dead&quot;,
            &quot;tenant_is_bothered&quot;,
            &quot;bothers_others&quot;
        ]
    }
}
</code></pre>
<a class="header" href="ml_service/README.html#a53-get-anti-facts" id="a53-get-anti-facts"><h3>5.3 Get Anti Facts</h3></a>
<p>Get the anti facts</p>
<p>Left hand side always initialized to 1 and right hand side to 0</p>
<p><strong>URL</strong>: <code>/antifacts</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-2" id="success-response-2"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;tenant_rent_not_paid_less_3_weeks&quot;: &quot;tenant_rent_not_paid_more_3_weeks&quot;,
    &quot;tenant_lease_fixed&quot;: &quot;tenant_lease_indeterminate&quot;,
    &quot;not_violent&quot;: &quot;violent&quot;,
    &quot;tenant_individual_responsability&quot;: &quot;tenant_group_responsability&quot;
}
</code></pre>
<a class="header" href="ml_service/README.html#a54-get-machine-learning-statistics" id="a54-get-machine-learning-statistics"><h3>5.4 Get Machine Learning Statistics</h3></a>
<p>Get the ml stats</p>
<p>Used to obtain:</p>
<ol>
<li>Size of data set</li>
<li>Variance of regression outcomes</li>
<li>Standard deviation of regression outcomes</li>
<li>Mean of regression outcomes</li>
<li>Prediction accuracy of each classifier</li>
</ol>
<p><strong>URL</strong>: <code>/statistics</code></p>
<p><strong>Method</strong>: <code>GET</code></p>
<p><strong>Data constraints</strong></p>
<p>None</p>
<a class="header" href="ml_service/README.html#success-response-3" id="success-response-3"><h4>Success Response</h4></a>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Content examples</strong></p>
<pre><code class="language-json">{
    &quot;classifier&quot;: {
        &quot;additional_indemnity_money&quot;: {
            &quot;prediction_accuracy&quot;: 79.8400199975003
        },
        &quot;authorize_landlord_retake_apartment&quot;: {
            &quot;prediction_accuracy&quot;: 99.48756405449319
        },
        &quot;declares_housing_inhabitable&quot;: {
            &quot;prediction_accuracy&quot;: 99.95000624921884
        },
        &quot;declares_resiliation_is_correct&quot;: {
            &quot;prediction_accuracy&quot;: 91.83852018497687
        },
        &quot;landlord_prejudice_justified&quot;: {
            &quot;prediction_accuracy&quot;: 81.07736532933383
        },
        &quot;landlord_retakes_apartment_indemnity&quot;: {
            &quot;prediction_accuracy&quot;: 99.72503437070367
        },
        &quot;landlord_serious_prejudice&quot;: {
            &quot;prediction_accuracy&quot;: 96.35045619297588
        },
        &quot;orders_expulsion&quot;: {
            &quot;prediction_accuracy&quot;: 91.55105611798525
        },
        &quot;orders_immediate_execution&quot;: {
            &quot;prediction_accuracy&quot;: 84.32695913010873
        },
        &quot;orders_landlord_notify_tenant_when_habitable&quot;: {
            &quot;prediction_accuracy&quot;: 100
        },
        &quot;orders_resiliation&quot;: {
            &quot;prediction_accuracy&quot;: 93.48831396075491
        },
        &quot;orders_tenant_pay_first_of_month&quot;: {
            &quot;prediction_accuracy&quot;: 98.05024371953506
        },
        &quot;tenant_ordered_to_pay_landlord&quot;: {
            &quot;prediction_accuracy&quot;: 83.82702162229721
        },
        &quot;tenant_ordered_to_pay_landlord_legal_fees&quot;: {
            &quot;prediction_accuracy&quot;: 90.32620922384702
        }
    },
    &quot;data_set&quot;: {
        &quot;size&quot;: 40003
    },
    &quot;regressor&quot;: {
        &quot;additional_indemnity_money&quot;: {
            &quot;mean&quot;: 1477.7728467101024,
            &quot;std&quot;: 1927.8147997893939,
            &quot;variance&quot;: 3716469.9022870203
        },
        &quot;tenant_pays_landlord&quot;: {
            &quot;mean&quot;: 2148.867088064977,
            &quot;std&quot;: 2129.510243010276,
            &quot;variance&quot;: 4534813.8750856845
        }
    }
}
</code></pre>
<a class="header" href="ml_service/README.html#a6-using-the-command-line-a-namecommand-linea" id="a6-using-the-command-line-a-namecommand-linea"><h2>6. Using the Command Line <a name="command-line"></a></h2></a>
<p><em>* denotes optional arguments</em></p>
<p>From the source directory <em>JusticeAi/src/ml_service/</em> you may run:</p>
<ol>
<li>Pre Processing
python main.py -pre [number of files | empty for all]</li>
<li>Post Processing
i. Each fact and outcome is listed with their number of occurences
ii. % of tagged lines is displayed
iii. python3 main.py -post [number of files | empty for all]</li>
<li>Training
**<em>Note: Always train <strong>svm</strong> before the <strong>sf</strong> and the <strong>svr</strong></em>
Testing results are displayed:
i. classifier: accuracy, F1, precision, recall
ii. regression: absolute error, r2
<strong>arguments</strong>:
i. --svm: classifier
ii. --svr: regressor
iii. --sf: similarity finder
iv. --all: classifier, regressor, similarity finder
python3 main.py -train [data size | empty for all] --svm* --sf* --svr* --all*</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="nlp_service/README.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="postgresql_db/README.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="nlp_service/README.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="postgresql_db/README.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if (getComputedStyle(document.querySelector(".fa")).fontFamily !== "FontAwesome") {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = '_FontAwesome/css/font-awesome.css';
                document.head.insertBefore(link, document.head.firstChild)
            }
        </script>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        

        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS script -->
        

    </body>
</html>
